(this["webpackJsonpgoit-react-hw-04-movies"]=this["webpackJsonpgoit-react-hw-04-movies"]||[]).push([[4],{101:function(e,t,a){"use strict";var r=a(105),n=a.n(r),c=a(106),o=a(107),s=a.n(o),i="a3f1bffb5eca2c1e671aa27884e4851b";s.a.defaults.baseURL="https://api.themoviedb.org/3/";var u={getTrendingMovies:function(){return Object(c.a)(n.a.mark((function e(){var t;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.a.get("trending/movie/day?api_key=".concat(i)).then((function(e){return e.data.results}));case 3:return t=e.sent,e.abrupt("return",t);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()},getMoviesBySearch:function(e){return Object(c.a)(n.a.mark((function t(){var a;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,s.a.get("search/movie?api_key=".concat(i,"&query=").concat(e,"&page=1&include_adult=false"));case 3:return a=t.sent,t.abrupt("return",a);case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))()},getMovieDetails:function(e){return Object(c.a)(n.a.mark((function t(){var a;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,s.a.get("movie/".concat(e,"?api_key=").concat(i));case 3:return a=t.sent,t.abrupt("return",a);case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))()},getActorsFromMovie:function(){var e=arguments;return Object(c.a)(n.a.mark((function t(){var a,r;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.length>0&&void 0!==e[0]?e[0]:12,t.prev=1,t.next=4,s.a.get("movie/".concat(a,"/credits?api_key=").concat(i)).then((function(e){return e.data.cast}));case 4:return r=t.sent,t.abrupt("return",r);case 8:t.prev=8,t.t0=t.catch(1),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[1,8]])})))()},getReviewsOfMovie:function(){var e=arguments;return Object(c.a)(n.a.mark((function t(){var a,r;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.length>0&&void 0!==e[0]?e[0]:12,t.prev=1,t.next=4,s.a.get("movie/".concat(a,"/reviews?api_key=").concat(i));case 4:return r=t.sent,t.abrupt("return",r);case 8:t.prev=8,t.t0=t.catch(1),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[1,8]])})))()}};t.a=u},108:function(e,t,a){"use strict";a.d(t,"a",(function(){return p}));a(0);var r=a(12),n=a(91),c=a(109),o=a(153),s=a(154),i=a(126),u=a(191),l=a(3),h=Object(n.a)({root:{display:"inline-table",maxWidth:300,marginBottom:10,marginTop:10},cardsArea:{display:"flex",justifyContent:"space-between",flexWrap:"wrap"}});function p(e){var t=e.movies,a=e.match,n=e.location,p=h();return Object(l.jsx)("div",{children:0!==t.length&&Object(l.jsx)("ul",{className:p.cardsArea,children:t.map((function(e){return Object(l.jsx)("li",{className:p.root,children:Object(l.jsx)(c.a,{elevation:3,children:Object(l.jsx)(o.a,{children:Object(l.jsxs)(r.b,{id:e.id,to:{pathname:"movies/".concat(e.id),state:{from:a.url,query:n.search}},children:[Object(l.jsx)("div",{children:Object(l.jsx)(i.a,{component:"img",image:"https://image.tmdb.org/t/p/w300".concat(e.poster_path),alt:"movie poster: ".concat(e.title)})}),Object(l.jsx)(s.a,{children:Object(l.jsx)(u.a,{variant:"body2",color:"textPrimary",component:"p",children:e.title})})]})})})},e.id)}))})})}},196:function(e,t,a){"use strict";a.r(t);var r=a(113),n=a(33),c=a(34),o=a(36),s=a(35),i=a(0),u=a(101),l=a(155),h=a.n(l),p=a(91),v=a(194),d=a(169),m=a(93),b=a(13),f=a.n(b),j=a(3),g=Object(p.a)((function(e){return{root:{display:"flex",justifyContent:"center",alignItems:"center",padding:10,"& .MuiTextField-root":{margin:e.spacing(1),width:"35%"},"& .MuiButton-outlinedPrimary":{border:"2px solid #3f51b5"},"& .MuiButton-outlinedSizeLarge":{padding:"13px 21px"}}}}));function y(e){var t=e.handleSubmit,a=e.searchQuery,r=e.handleChange,n=g();return Object(j.jsx)(m.a,{className:f.a.conteiner,elevation:3,children:Object(j.jsxs)("form",{className:n.root,noValidate:!0,autoComplete:"on",onSubmit:t,children:[Object(j.jsx)(v.a,{id:"outlined-search",label:"Movie name",type:"search",variant:"outlined",autoFocus:!0,value:a,onChange:r,name:"search"}),Object(j.jsx)(d.a,{type:"submit",size:"large",variant:"outlined",color:"primary",children:"Search"})]})})}var x=a(108),O=function(e){Object(o.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(n.a)(this,a);for(var r=arguments.length,c=new Array(r),o=0;o<r;o++)c[o]=arguments[o];return(e=t.call.apply(t,[this].concat(c))).state={movies:[],searchQuery:""},e.serchMovies=function(t){u.a.getMoviesBySearch(t).then((function(t){return e.setState({movies:t.data.results})}))},e.handleChange=function(t){e.setState({searchQuery:t.target.value})},e.handleSubmit=function(t){t.preventDefault(),""!==e.state.searchQuery&&(e.props.history.push({search:"?query=".concat(e.state.searchQuery)}),e.serchMovies(e.state.searchQuery))},e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=h.a.parse(this.props.location.search);e.query&&this.serchMovies(e.query)}},{key:"componentDidUpdate",value:function(e){var t=h.a.parse(e.location.search),a=h.a.parse(this.props.location.search);t.query!==a.query&&this.serchMovies(a.query)}},{key:"render",value:function(){var e=this.state,t=e.movies,a=e.searchQuery;return Object(j.jsxs)("div",{children:[Object(j.jsx)(y,{handleSubmit:this.handleSubmit,searchQuery:a,handleChange:this.handleChange}),t&&Object(j.jsx)(x.a,Object(r.a)(Object(r.a)({},this.props),{},{movies:t}))]})}}]),a}(i.Component);t.default=O}}]);
//# sourceMappingURL=MoviePage.6e6e0b74.chunk.js.map